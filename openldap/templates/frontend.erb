# Create top-level object in domain
dn: <%= scope.lookupvar('openldap::params::openldap_domain') %>
objectClass: top
objectClass: dcObject
objectclass: organization
o: <%= scope.lookupvar('openldap::params::openldap_organization') %>
dc: <%= scope.lookupvar('openldap::params::openldap_dc') %>
description: <%= scope.lookupvar('openldap::params::openldap_description') %>

# Admin user.
dn: cn=<%= scope.lookupvar('openldap::params::openldap_rootdn') %>,<%= scope.lookupvar('openldap::params::openldap_domain') %>
objectClass: simpleSecurityObject
objectClass: organizationalRole
cn: <%= scope.lookupvar('openldap::params::openldap_rootdn') %>
description: <%= scope.lookupvar('openldap::params::openldap_admin_description') %>
userPassword: <%= scope.lookupvar('openldap::params::openldap_admin_passwd') %>

dn: ou=people,<%= scope.lookupvar('openldap::params::openldap_domain') %>
objectClass: organizationalUnit
ou: people

dn: ou=groups,<%= scope.lookupvar('openldap::params::openldap_domain') %>
objectClass: organizationalUnit
ou: groups
